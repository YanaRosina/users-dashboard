{"ast":null,"code":"import { createSlice, createAsyncThunk } from \"@reduxjs/toolkit\";\nimport { usersApi } from \"../../services/api\";\nconst initialState = {\n  users: [],\n  loading: false,\n  error: null,\n  searchTerm: \"\"\n};\nexport const fetchUsers = createAsyncThunk(\"users/fetchUsers\", async searchTerm => {\n  const response = await usersApi.getUsers(searchTerm);\n  if (!response.success) {\n    var _response$error;\n    throw new Error(((_response$error = response.error) === null || _response$error === void 0 ? void 0 : _response$error.message) || \"Failed to fetch users\");\n  }\n  return response.data;\n});\nconst usersSlice = createSlice({\n  name: \"users\",\n  initialState,\n  reducers: {\n    setSearchTerm: (state, action) => {\n      state.searchTerm = action.payload;\n    },\n    clearError: state => {\n      state.error = null;\n    }\n  },\n  extraReducers: builder => {\n    builder.addCase(fetchUsers.pending, state => {\n      state.loading = true;\n      state.error = null;\n    }).addCase(fetchUsers.fulfilled, (state, action) => {\n      state.loading = false;\n      state.users = action.payload;\n    }).addCase(fetchUsers.rejected, (state, action) => {\n      state.loading = false;\n      state.error = action.error.message || \"Failed to fetch users\";\n    });\n  }\n});\nexport const {\n  setSearchTerm,\n  clearError\n} = usersSlice.actions;\nexport default usersSlice.reducer;","map":{"version":3,"names":["createSlice","createAsyncThunk","usersApi","initialState","users","loading","error","searchTerm","fetchUsers","response","getUsers","success","_response$error","Error","message","data","usersSlice","name","reducers","setSearchTerm","state","action","payload","clearError","extraReducers","builder","addCase","pending","fulfilled","rejected","actions","reducer"],"sources":["C:/Users/rosin/OneDrive/Рабочий стол/WEB/users-dashboard/frontend/src/store/slices/usersSlice.ts"],"sourcesContent":["import { createSlice, createAsyncThunk, PayloadAction } from \"@reduxjs/toolkit\";\r\nimport { User } from \"../../types/user\";\r\nimport { usersApi } from \"../../services/api\";\r\n\r\ninterface UsersState {\r\n  users: User[];\r\n  loading: boolean;\r\n  error: string | null;\r\n  searchTerm: string;\r\n}\r\n\r\nconst initialState: UsersState = {\r\n  users: [],\r\n  loading: false,\r\n  error: null,\r\n  searchTerm: \"\",\r\n};\r\n\r\nexport const fetchUsers = createAsyncThunk(\r\n  \"users/fetchUsers\",\r\n  async (searchTerm?: string) => {\r\n    const response = await usersApi.getUsers(searchTerm);\r\n    if (!response.success) {\r\n      throw new Error(response.error?.message || \"Failed to fetch users\");\r\n    }\r\n    return response.data;\r\n  }\r\n);\r\n\r\nconst usersSlice = createSlice({\r\n  name: \"users\",\r\n  initialState,\r\n  reducers: {\r\n    setSearchTerm: (state, action: PayloadAction<string>) => {\r\n      state.searchTerm = action.payload;\r\n    },\r\n    clearError: (state) => {\r\n      state.error = null;\r\n    },\r\n  },\r\n  extraReducers: (builder) => {\r\n    builder\r\n      .addCase(fetchUsers.pending, (state) => {\r\n        state.loading = true;\r\n        state.error = null;\r\n      })\r\n      .addCase(fetchUsers.fulfilled, (state, action) => {\r\n        state.loading = false;\r\n        state.users = action.payload;\r\n      })\r\n      .addCase(fetchUsers.rejected, (state, action) => {\r\n        state.loading = false;\r\n        state.error = action.error.message || \"Failed to fetch users\";\r\n      });\r\n  },\r\n});\r\n\r\nexport const { setSearchTerm, clearError } = usersSlice.actions;\r\nexport default usersSlice.reducer;\r\n"],"mappings":"AAAA,SAASA,WAAW,EAAEC,gBAAgB,QAAuB,kBAAkB;AAE/E,SAASC,QAAQ,QAAQ,oBAAoB;AAS7C,MAAMC,YAAwB,GAAG;EAC/BC,KAAK,EAAE,EAAE;EACTC,OAAO,EAAE,KAAK;EACdC,KAAK,EAAE,IAAI;EACXC,UAAU,EAAE;AACd,CAAC;AAED,OAAO,MAAMC,UAAU,GAAGP,gBAAgB,CACxC,kBAAkB,EAClB,MAAOM,UAAmB,IAAK;EAC7B,MAAME,QAAQ,GAAG,MAAMP,QAAQ,CAACQ,QAAQ,CAACH,UAAU,CAAC;EACpD,IAAI,CAACE,QAAQ,CAACE,OAAO,EAAE;IAAA,IAAAC,eAAA;IACrB,MAAM,IAAIC,KAAK,CAAC,EAAAD,eAAA,GAAAH,QAAQ,CAACH,KAAK,cAAAM,eAAA,uBAAdA,eAAA,CAAgBE,OAAO,KAAI,uBAAuB,CAAC;EACrE;EACA,OAAOL,QAAQ,CAACM,IAAI;AACtB,CACF,CAAC;AAED,MAAMC,UAAU,GAAGhB,WAAW,CAAC;EAC7BiB,IAAI,EAAE,OAAO;EACbd,YAAY;EACZe,QAAQ,EAAE;IACRC,aAAa,EAAEA,CAACC,KAAK,EAAEC,MAA6B,KAAK;MACvDD,KAAK,CAACb,UAAU,GAAGc,MAAM,CAACC,OAAO;IACnC,CAAC;IACDC,UAAU,EAAGH,KAAK,IAAK;MACrBA,KAAK,CAACd,KAAK,GAAG,IAAI;IACpB;EACF,CAAC;EACDkB,aAAa,EAAGC,OAAO,IAAK;IAC1BA,OAAO,CACJC,OAAO,CAAClB,UAAU,CAACmB,OAAO,EAAGP,KAAK,IAAK;MACtCA,KAAK,CAACf,OAAO,GAAG,IAAI;MACpBe,KAAK,CAACd,KAAK,GAAG,IAAI;IACpB,CAAC,CAAC,CACDoB,OAAO,CAAClB,UAAU,CAACoB,SAAS,EAAE,CAACR,KAAK,EAAEC,MAAM,KAAK;MAChDD,KAAK,CAACf,OAAO,GAAG,KAAK;MACrBe,KAAK,CAAChB,KAAK,GAAGiB,MAAM,CAACC,OAAO;IAC9B,CAAC,CAAC,CACDI,OAAO,CAAClB,UAAU,CAACqB,QAAQ,EAAE,CAACT,KAAK,EAAEC,MAAM,KAAK;MAC/CD,KAAK,CAACf,OAAO,GAAG,KAAK;MACrBe,KAAK,CAACd,KAAK,GAAGe,MAAM,CAACf,KAAK,CAACQ,OAAO,IAAI,uBAAuB;IAC/D,CAAC,CAAC;EACN;AACF,CAAC,CAAC;AAEF,OAAO,MAAM;EAAEK,aAAa;EAAEI;AAAW,CAAC,GAAGP,UAAU,CAACc,OAAO;AAC/D,eAAed,UAAU,CAACe,OAAO","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}